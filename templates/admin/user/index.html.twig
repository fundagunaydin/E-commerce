{% extends 'adminbase.html.twig' %}

{% block title %}User List{% endblock %}

{% block body %}
    <SCRIPT language="JavaSript" type="text/javascript">
        function openWin(windowURL, windowName, windowFeatures) {
            window.open(windowURL, windowName, windowFeatures);
        }
    </SCRIPT>
    <!--main-container-part-->
    <div id="content">
        <!--breadcrumbs-->
        <div id="content-header">
            <div id="breadcrumb"><a href="/admin" title="Go to Home" class="tip-bottom"><i class="icon-home"></i>
                    Home</a> <a href="#">Users</a></div>
        </div>

        <!--End-breadcrumbs-->

        <!--Chart-box-->
        <div class="row-fluid">
            <br><a href="{{ path('admin_user_new') }}" class="btn btn-danger"> Create New User </a> <br><br>
            <div class="widget-title bg_lg"><span class="icon"><i class="icon-align-justify"></i></span>
                <h5>User List</h5>
            </div>


            <div class="widget-content nopadding">
                <table class="table table-bordered table-striped">
                    <thead>
                    <tr>
                        <th>Id</th>
                        <th>Email</th>
                        <th>Roles</th>
                        <th>Name</th>
                        <th>Surname</th>
                        <th>Image</th>
                        <th>Status</th>
                        <th>Show</th>
                        <th>Edit</th>
                        <th>Delete</th>
                    </tr>
                    </thead>
                    <tbody>
                    {% for user in users %}
                        <tr>
                            <td>{{ user.id }}</td>
                            <td>{{ user.email }}</td>
                            <td>{{ user.roles ? user.roles|json_encode : '' }}</td>
                            <td>{{ user.name }}</td>
                            <td>{{ user.surname }}</td>
                            <td><img src="{{ asset('uploads/images/' ~ user.image) }}" style="height:50px; "></td>
                            <td>{{ user.status }}</td>
                            <td>
                                <a href="{{ path('admin_user_show', {'id': user.id}) }}" class="btn  btn-success">
                                    Show </a>
                            </td>
                            <td>
                                <a href="{{ path('admin_user_edit', {'id': user.id}) }}" class="btn  btn-info">
                                    Edit </a>
                            </td>
                            <td>
                                {{ include('admin/user/_delete_form.html.twig') }}
                            </td>
                        </tr>
                    {% else %}
                        <tr>
                            <td colspan="10">no records found</td>
                        </tr>
                    {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>
    </div>
{% endblock %}